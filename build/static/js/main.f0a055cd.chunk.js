(this["webpackJsonpmy-todo"]=this["webpackJsonpmy-todo"]||[]).push([[0],{197:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Lt}));var a=n(0),c=n(19),r=n.n(c),i=n(17),o=n(73),u=n(53),s=n(121),l=n(136),b=n(33),d="ADD_CATEGORY",j="FEATCH_CATEGORIES",f="SIGN_IN",O=function(e){return{type:"SIGN_IN",payload:{isSignedIn:!0,role:e.role,uid:e.uid,userName:e.userName}}},p="SIGN_OUT",h={users:{isSignedIn:!1,uid:"",userName:"",role:"",categories:[]},todos:{todoList:[]}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case j:case f:return Object(b.a)(Object(b.a)({},e),t.payload);case p:return Object(b.a)({},t.payload);default:return e}},m="CREATE_TODO",g="FETCH_TODOS",v="TOGGLE_ACTIVE_STATE",y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.todos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case g:case v:return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}};var C=n(47),k=(n(197),n(45)),w=n(13),S=n(18),I=n(22),N=n.n(I),E=n(34),T=n(29),A=n(59);n(199),n(230),n(231),n(232);A.a.initializeApp({apiKey:"AIzaSyBxyM78ThyO9BxgNNMNuUn1MsBBzTKJoCg",authDomain:"my-todo-app-9855c.firebaseapp.com",projectId:"my-todo-app-9855c",storageBucket:"my-todo-app-9855c.appspot.com",messagingSenderId:"1073370607895",appId:"1:1073370607895:web:91e0ea3e3b2b3832850752",measurementId:"G-18E83P77FW"});var _,D,F,B,M,z,G,L,P,W,R,U,Y,H,J,K,V,q,Q=A.a.auth(),X=new A.a.auth.GoogleAuthProvider,Z=A.a.firestore(),$=(A.a.storage(),A.a.functions(),A.a.firestore.Timestamp),ee=function(){return function(){var e=Object(E.a)(N.a.mark((function e(t,n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().users.uid,Z.collection("users").doc(a).collection("categories").orderBy("created_at","asc").get().then((function(e){var n=[];e.forEach((function(e){var t=e.data();n.push({id:t.id,name:t.name})})),t({type:"FEATCH_CATEGORIES",payload:{categories:n}})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},te=n(12),ne=n(255),ae=n(3),ce=te.b.div(_||(_=Object(w.a)(["\n  height: 40px;\n  width: 100%;\n  margin-top: 8px;\n  margin-bottom: 4px;\n  border-radius: 20px;\n  overflow: hidden;\n"]))),re=Object(te.b)(ne.a)(D||(D=Object(w.a)(["\n  height: 100%;\n  width: 100%;\n  background: ",";\n  color: ",";\n  transition: background 300ms ease-out;\n  cursor: pointer;\n  &:hover {\n    background: #dadada;\n  }\n"])),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.text.primary})),ie=Object(te.b)(ne.a)(F||(F=Object(w.a)(["\n  height: 100%;\n  width: 100%;\n  background: ",";\n  color: ",";\n  transition: background 300ms ease-out;\n  cursor: pointer;\n  &:hover {\n    background: #dadada;\n  }\n"])),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.text.primary})),oe=function(e){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(ce,{children:"white"===e.color?Object(ae.jsx)(re,{variant:"contained",onClick:function(){return e.onClick()},children:e.label}):Object(ae.jsx)(ie,{variant:"contained",onClick:function(){return e.onClick()},children:e.label})})})},ue=n(88),se=n.n(ue),le=Object(te.b)(ne.a)(B||(B=Object(w.a)(["\n  height: 40px;\n  border-radius: 20px;\n  color: #fff;\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.palette.primary.dark})),be=function(e){return Object(ae.jsx)(le,{variant:"contained",color:"primary",startIcon:Object(ae.jsx)(se.a,{}),onClick:e.onClick,children:e.label})},de=function(e){return Object(ae.jsx)(ne.a,{onClick:e.onClick,color:e.color,children:e.label})},je=n(275),fe=Object(te.b)(je.a)(M||(M=Object(w.a)(["\n  background-color: ",";\n  color: #fff;\n  font-size: 12px;\n"])),(function(e){return e.theme.palette.secondary.main})),Oe=function(e){return Object(ae.jsx)(fe,{size:"small",label:e.label})},pe=n(276),he=Object(te.b)(pe.a)(z||(z=Object(w.a)(["\n  .MuiOutlinedInput-root {\n    border-radius: 20px;\n    &.Mui-focused .MuiOutlinedInput-notchedOutline,\n    &:hover .MuiOutlinedInput-notchedOutline {\n      border: 1px solid #fff;\n    }\n  }\n  .MuiInputBase-root {\n    color: #fff;\n  }\n  .MuiOutlinedInput-notchedOutline {\n    border: 1px solid #fff;\n  }\n  .MuiFormLabel-root {\n    color: #fff;\n    opacity: 0.5;\n    &.Mui-focused {\n      color: #fff;\n    }\n  }\n"]))),xe=function(e){return Object(ae.jsx)(he,{fullWidth:!0,label:e.label,margin:"dense",multiline:!1,required:!0,rows:0,value:e.value,variant:"outlined",type:e.type?e.type:"text",onChange:e.onChange})},me=n(144),ge=n(31),ve=n(269),ye=Object(te.b)(ve.a)(G||(G=Object(w.a)(["\n  width: 100%;\n"]))),Ce=function(e){return Object(ae.jsx)(ge.a,{utils:me.a,children:Object(ae.jsx)(ye,{disableToolbar:!0,variant:"inline",format:"yyyy/MM/dd",margin:"normal",id:e.id,label:e.label,value:e.value,onChange:e.onChange,KeyboardButtonProps:{"aria-label":"change date"}})})},ke=function(e){return Object(ae.jsx)(pe.a,{autoFocus:e.autoFocus,margin:"dense",id:e.id,label:e.label,type:e.type,value:e.value,fullWidth:e.fullWidth,multiline:e.multiline,rows:e.rows,onChange:e.onChange})},we=n(278),Se=n(280),Ie=n(261),Ne=n(271),Ee=Object(te.b)(Ie.a)(L||(L=Object(w.a)(["\n  width: 100%;\n"]))),Te=function(e){return Object(ae.jsxs)(Ee,{children:[Object(ae.jsx)(we.a,{id:e.inputId,children:e.label}),Object(ae.jsx)(Ne.a,{labelId:e.inputId,id:e.selectBoxId,value:e.value,onChange:e.onChange,children:e.items.length>0&&e.items.map((function(e){return Object(ae.jsx)(Se.a,{value:e.id,children:e.name},e.name)}))})]})},Ae=n(281),_e=function(e){return Object(ae.jsx)(Ae.a,{checked:e.checked,onChange:e.onChange,color:"primary",name:"checked"})},De=te.b.a(P||(P=Object(w.a)(["\n  color: #fff;\n  cursor: pointer;\n  opacity: 1;\n  text-decoration: none;\n  transition: opacity 200ms ease-out;\n  &:hover {\n    opacity: 0.7;\n  }\n"]))),Fe=function(e){return Object(ae.jsx)(De,{href:"#",onClick:function(){return e.action()},children:e.text})},Be=te.b.div(W||(W=Object(w.a)(["\n  .login-title {\n    font-size: 24px;\n    margin-bottom: 32px;\n    color: #fff;\n  }\n\n  .separator-text {\n    margin: 24px 0;\n    color: #fff;\n  }\n\n  .sub-menu {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 16px;\n    color: #fff;\n  }\n"]))),Me=function(){var e=Object(i.d)(),t=Object(a.useState)(""),n=Object(S.a)(t,2),c=n[0],r=n[1],o=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return Object(ae.jsxs)(Be,{children:[Object(ae.jsx)("h2",{className:"login-title",children:"Reset Password"}),Object(ae.jsx)(xe,{label:"email",value:c,onChange:o}),Object(ae.jsx)(oe,{label:"Reset Password",onClick:function(){return e(function(e){return function(){var t=Object(E.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e){t.next=5;break}return alert("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u672a\u5165\u529b\u3067\u3059"),t.abrupt("return",!1);case 5:Q.sendPasswordResetEmail(e).then((function(){alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u7528\u306e\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002"),n(Object(T.d)("/signin"))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}}),Object(ae.jsxs)("div",{className:"sub-menu",children:[Object(ae.jsx)(Fe,{text:"",action:function(){return alert("forget")}}),Object(ae.jsx)(Fe,{text:"Back to SignIn",action:function(){return e(Object(T.d)("/signin"))}})]})]})},ze=n(274),Ge=n(264),Le=n(263),Pe=n(267),We=n(266),Re=function(){return function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.collection("todos").orderBy("update_at","asc").get().then((function(e){var n=[];e.forEach((function(e){var t=e.data();n.push({id:t.id,name:t.name,limitDate:t.limitDate,category:t.category,memo:t.memo,activeState:t.active_state,createdAt:t.created_at})})),t({type:"CREATE_TODO",payload:{todoList:n}})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ue=n(65),Ye=function(e){return e.users},He=Object(Ue.a)([Ye],(function(e){return e.categories})),Je=Object(Ue.a)([Ye],(function(e){return e.isSignedIn})),Ke=(Object(Ue.a)([Ye],(function(e){return e.uid})),Object(Ue.a)([Ye],(function(e){return e.userName}))),Ve=function(e){var t=Object(i.d)(),n=Object(i.e)((function(e){return e})),c=He(n),r=Object(a.useState)(""),o=Object(S.a)(r,2),u=o[0],s=o[1],l=Object(a.useState)(new Date),b=Object(S.a)(l,2),d=b[0],j=b[1],f=Object(a.useState)(""),O=Object(S.a)(f,2),p=O[0],h=O[1],x=Object(a.useState)(""),m=Object(S.a)(x,2),g=m[0],v=m[1],y=Object(a.useCallback)((function(e){s(e.target.value)}),[]),C=Object(a.useCallback)((function(e){null!==e&&j(new Date(e))}),[]),k=Object(a.useCallback)((function(e){h(e.target.value)}),[]),w=Object(a.useCallback)((function(e){v(e.target.value)}),[]),I=Object(a.useCallback)((function(n){t(function(e,t,n,a){return Object(E.a)(N.a.mark((function c(){var r,i,o;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=$.now(),""!==e&&""!==n){c.next=6;break}return alert("TODO\u30bf\u30a4\u30c8\u30eb\u30fb\u30ab\u30c6\u30b4\u30ea\u306f\u5fc5\u9808\u9805\u76ee\u3067\u3059"),c.abrupt("return",!1);case 6:i=Z.collection("todos").doc(),o={id:i.id,name:e,limit_date:t,category:n,memo:a,active_state:!0,created_at:r,update_at:r},i.set(o);case 9:case"end":return c.stop()}}),c)})))}(u,d,p,g)),t(Re()),s(""),j(new Date),h(""),v(""),e.onClose(n)}),[t,u,d,p,g,e]);return Object(ae.jsx)("div",{children:Object(ae.jsxs)(ze.a,{open:e.isOpen,onClose:e.onClose,"aria-labelledby":"form-dialog-title",children:[Object(ae.jsx)(We.a,{id:"form-dialog-title",children:"ToDo\u3092\u8ffd\u52a0\u3059\u308b"}),Object(ae.jsxs)(Le.a,{children:[Object(ae.jsx)(Pe.a,{children:"\u8ffd\u52a0\u3059\u308bToDo\u306e\u8a73\u7d30\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(ae.jsx)(ke,{id:"todo-name",label:"ToDo\u30bf\u30a4\u30c8\u30eb",type:"text",value:u,fullWidth:!0,multiline:!1,rows:0,autoFocus:!0,onChange:y}),Object(ae.jsx)(Ce,{id:"limit-date",value:d,label:"\u671f\u9650\u65e5",onChange:C}),Object(ae.jsx)(Te,{label:"Category",inputId:"category",selectBoxId:"category-select",value:p,items:c,onChange:k}),Object(ae.jsx)(ke,{id:"todo-memo",label:"\u5099\u8003",type:"textarea",value:g,fullWidth:!0,multiline:!0,rows:4,autoFocus:!1,onChange:w})]}),Object(ae.jsx)(Ge.a,{children:Object(ae.jsx)(de,{label:"TODO\u8ffd\u52a0",color:"primary",onClick:I})})]})})},qe=function(e){var t=Object(i.d)(),n=Object(a.useState)(""),c=Object(S.a)(n,2),r=c[0],o=c[1],u=Object(a.useCallback)((function(e){o(e.target.value)}),[]),s=Object(a.useCallback)((function(n){t(function(e){return function(){var t=Object(E.a)(N.a.mark((function t(n,a){var c,r,i,o,u;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=$.now(),""!==e){t.next=6;break}return alert("\u30ab\u30c6\u30b4\u30ea\u540d\u79f0\u304c\u7a7a\u3067\u3059\u3002"),t.abrupt("return",!1);case 6:r=a().users.uid,i=a().users.categories.length,o=Z.collection("users").doc(r).collection("categories").doc(),u={id:i+1,name:e,created_at:c,update_at:c},o.set(u);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(r)),o(""),t(ee()),e.onClose(n)}),[t,r,e]);return Object(ae.jsx)("div",{children:Object(ae.jsxs)(ze.a,{open:e.isOpen,onClose:e.onClose,"aria-labelledby":"form-dialog-title",children:[Object(ae.jsx)(We.a,{id:"form-dialog-title",children:"\u30ab\u30c6\u30b4\u30ea\u3092\u8ffd\u52a0\u3059\u308b"}),Object(ae.jsxs)(Le.a,{children:[Object(ae.jsx)(Pe.a,{children:"\u8ffd\u52a0\u3059\u308b\u30ab\u30c6\u30b4\u30ea\u306e\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(ae.jsx)(ke,{autoFocus:!0,id:"category-name",label:"\u30ab\u30c6\u30b4\u30ea\u540d",type:"text",value:r,fullWidth:!0,multiline:!1,rows:0,onChange:u})]}),Object(ae.jsx)(Ge.a,{children:Object(ae.jsx)(de,{label:"\u30ab\u30c6\u30b4\u30ea\u8ffd\u52a0",color:"primary",onClick:s})})]})})},Qe=te.b.div(R||(R=Object(w.a)(["\n  margin-right: 16px;\n  width: 240px;\n"]))),Xe=te.b.div(U||(U=Object(w.a)(["\n  margin-bottom: 12px;\n  color: ",";\n  font-size: 12px;\n"])),(function(e){return e.theme.palette.text.secondary})),Ze=te.b.div(Y||(Y=Object(w.a)(["\n  width: 100%;\n  margin-top: 8px;\n  text-align: right;\n"]))),$e=te.b.div(H||(H=Object(w.a)(["\n  width: 100%;\n  border-radius: 4px;\n  box-shadow: 0 0 8px rgb(0 0 0 / 20%);\n  .menu {\n    width: 100%;\n  }\n  .menu-item {\n    padding: 0 16px;\n    border-bottom: 1px solid #ececec;\n    cursor: pointer;\n    line-height: 40px;\n    &:hover {\n      background: ",";\n    }\n    &:last-of-type {\n      border-bottom: none;\n    }\n  }\n"])),(function(e){return e.theme.palette.primary.light})),et=function(e){var t=e.onClick,n=Object(i.e)((function(e){return e})),c=He(n),r=Object(a.useState)(!1),o=Object(S.a)(r,2),u=o[0],s=o[1],l=Object(a.useCallback)((function(){s(!0)}),[]),b=Object(a.useCallback)((function(){s(!1)}),[]);return Object(ae.jsxs)(Qe,{children:[Object(ae.jsx)(Xe,{className:"menu-text",children:"\u30bf\u30b9\u30af\u306e\u7d5e\u308a\u8fbc\u307f"}),Object(ae.jsx)($e,{children:Object(ae.jsxs)("ul",{className:"menu",children:[Object(ae.jsx)("li",{className:"menu-item",onClick:function(){return t(0)},children:"\u3059\u3079\u3066"}),c.length>0&&c.map((function(e){return Object(ae.jsx)("li",{className:"menu-item",onClick:function(){return t(e.id)},children:e.name},e.id)}))]})}),Object(ae.jsx)(Ze,{children:Object(ae.jsx)(ne.a,{color:"primary",startIcon:Object(ae.jsx)(se.a,{}),onClick:l,children:"\u30ab\u30c6\u30b4\u30ea\u8ffd\u52a0"})}),Object(ae.jsx)(qe,{isOpen:u,onClose:b})]})},tt=te.b.div(J||(J=Object(w.a)(["\n  .login-title {\n    font-size: 24px;\n    margin-bottom: 32px;\n    color: #fff;\n  }\n\n  .separator-text {\n    margin: 24px 0;\n    color: #fff;\n  }\n\n  .sub-menu {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 16px;\n    color: #fff;\n  }\n"]))),nt=function(){var e=Object(i.d)(),t=Object(a.useState)(""),n=Object(S.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),u=Object(S.a)(o,2),s=u[0],l=u[1],b=Object(a.useCallback)((function(e){r(e.target.value)}),[r]),d=Object(a.useCallback)((function(e){l(e.target.value)}),[l]);return Object(ae.jsxs)(tt,{children:[Object(ae.jsx)("h2",{className:"login-title",children:"Login"}),Object(ae.jsx)(oe,{label:"Login with Google",onClick:function(){return e(function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.signInWithPopup(X).then((function(e){var n=e.user,a=$.now();if(n){t(O({isSignedIn:!0,role:"customer",uid:n.uid,userName:n.displayName||"",categories:[]}));var c={created_at:a,email:n.email,role:"cusotmer",uid:n.uid,update_at:a,username:n.displayName};Z.collection("users").doc(n.uid).set(c).then((function(){return t(Object(T.d)("/"))}))}t(Object(T.d)("/"))})).catch((function(e){return alert(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},color:"white"}),Object(ae.jsx)("p",{className:"separator-text",children:"or"}),Object(ae.jsx)(xe,{label:"email",value:c,onChange:b}),Object(ae.jsx)(xe,{label:"password",type:"password",value:s,onChange:d}),Object(ae.jsx)(oe,{label:"Login",onClick:function(){return e(function(e,t){return function(){var n=Object(E.a)(N.a.mark((function n(a){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e&&""!==t){n.next=3;break}return alert("\u672a\u5165\u529b"),n.abrupt("return",!1);case 3:Q.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;if(t){var n=t.uid;Z.collection("users").doc(n).get().then((function(e){var t=e.data();a(O({isSignedIn:!0,role:t.role,uid:t.uid,userName:t.username,categories:[]})),a(Object(T.d)("/"))}))}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,s))},color:"white"}),Object(ae.jsxs)("div",{className:"sub-menu",children:[Object(ae.jsx)(Fe,{text:"Forgot Password",action:function(){return e(Object(T.d)("/reset"))}}),Object(ae.jsx)(Fe,{text:"Create Account",action:function(){return e(Object(T.d)("/signup"))}})]})]})},at=te.b.div(K||(K=Object(w.a)(["\n  .title {\n    font-size: 24px;\n    margin-bottom: 32px;\n    color: #fff;\n  }\n  .sub-menu {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 16px;\n    color: #fff;\n  }\n"]))),ct=function(){var e=Object(i.d)(),t=Object(a.useState)(""),n=Object(S.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),u=Object(S.a)(o,2),s=u[0],l=u[1],b=Object(a.useState)(""),d=Object(S.a)(b,2),j=d[0],f=d[1],O=Object(a.useState)(""),p=Object(S.a)(O,2),h=p[0],x=p[1],m=Object(a.useCallback)((function(e){r(e.target.value)}),[r]),g=Object(a.useCallback)((function(e){l(e.target.value)}),[l]),v=Object(a.useCallback)((function(e){f(e.target.value)}),[f]),y=Object(a.useCallback)((function(e){x(e.target.value)}),[x]);return Object(ae.jsxs)(at,{children:[Object(ae.jsx)("h2",{className:"title",children:"SignUp"}),Object(ae.jsx)(xe,{label:"username",value:c,onChange:m}),Object(ae.jsx)(xe,{label:"email",value:s,onChange:g}),Object(ae.jsx)(xe,{label:"password",type:"password",value:j,onChange:v}),Object(ae.jsx)(xe,{label:"password",type:"password",value:h,onChange:y}),Object(ae.jsx)(oe,{label:"SignUp",onClick:function(){return e(function(e,t,n,a){return function(){var c=Object(E.a)(N.a.mark((function c(r){return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(""!==e&&""!==t&&""!==n&&""!==a){c.next=3;break}return alert("\u5fc5\u9808\u304c\u7a7a\u3067\u3059"),c.abrupt("return",!1);case 3:if(n===a){c.next=6;break}return alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u3066\u3044\u307e\u305b\u3093"),c.abrupt("return",!1);case 6:return c.abrupt("return",Q.createUserWithEmailAndPassword(t,n).then((function(n){var a=n.user;if(a){var c=a.uid,i=$.now(),o={created_at:i,email:t,role:"cusotmer",uid:c,update_at:i,username:e};Z.collection("users").doc(c).set(o).then((function(){return r(Object(T.d)("/"))}))}})));case 7:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(c,s,j,h))},color:"white"}),Object(ae.jsxs)("div",{className:"sub-menu",children:[Object(ae.jsx)(Fe,{text:"",action:function(){return alert("\u3044\u3044\u3044")}}),Object(ae.jsx)(Fe,{text:"Signin",action:function(){return e(Object(T.d)("/signin"))}})]})]})},rt=Object(Ue.a)([function(e){return e.todo}],(function(e){return e.todoList})),it=te.b.div(V||(V=Object(w.a)(["\n  width: 100%;\n"]))),ot=te.b.div(q||(q=Object(w.a)(["\n  margin-bottom: 16px;\n  text-align: right;\n"]))),ut=function(e){var t=e.categoryId,n=Object(i.e)((function(e){return e})),c=rt(n),r=Object(a.useState)(c),o=Object(S.a)(r,2),u=o[0],s=o[1],l=Object(a.useState)(!1),b=Object(S.a)(l,2),d=b[0],j=b[1],f=Object(a.useCallback)((function(){j(!0)}),[]),O=Object(a.useCallback)((function(){j(!1)}),[]);return Object(a.useEffect)((function(){s(0!==t&&t?c.filter((function(e){return e.category===t})):c)}),[t,c]),Object(ae.jsxs)(it,{children:[Object(ae.jsx)(ot,{children:Object(ae.jsx)(be,{label:"TODO\u3092\u8ffd\u52a0",onClick:f})}),Object(ae.jsx)("ul",{children:u.length>0&&u.map((function(e){return Object(ae.jsx)(Ct,{todo:e},e.id)}))}),Object(ae.jsx)(Ve,{isOpen:d,onClose:O})]})},st=n(92),lt=n.n(st),bt=n(163),dt=n.n(bt);lt.a.locale(dt.a);var jt,ft,Ot,pt,ht,xt=function(e){return lt()(e).format("YYYY-MM-DD")},mt=n(164),gt=n.n(mt),vt=n(265),yt=te.b.li(jt||(jt=Object(w.a)(["\n  align-items: center;\n  padding: 16px 0;\n  border-top: 1px solid ",";\n  display: flex;\n  position: relative;\n  &:last-of-type {\n    border-bottom: 1px solid\n      ",";\n  }\n  &.is-done {\n    &:hover {\n      background-color: #fff;\n    }\n    .overlay {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      background-color: ",";\n      opacity: 0.5;\n    }\n  }\n  .switch-erea {\n    flex-basis: 9%;\n  }\n  .content-erea {\n    flex-basis: 84%;\n    .content-title {\n      margin-bottom: 8px;\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .content-date {\n      font-size: 12px;\n    }\n    .content-category {\n      margin-top: 8px;\n    }\n  }\n  .delete-erea {\n    flex-basis: 5%;\n    text-align: center;\n  }\n"])),(function(e){return e.theme.palette.grey.line}),(function(e){return e.theme.palette.grey.line}),(function(e){return e.theme.palette.grey[200]})),Ct=function(e){var t=e.todo,n=Object(i.d)(),c=Object(i.e)((function(e){return e})),r=He(c),o=Object(a.useState)(!0),u=Object(S.a)(o,2),s=u[0],l=u[1],b=function(e,t){l(!t),n(function(e,t){return function(){var n=Object(E.a)(N.a.mark((function n(a,c){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={active_state:t},Z.collection("todos").doc(e).set(r,{merge:!0}).then((function(){var n=c().todo.todoList,r=n.findIndex((function(t){return t.id===e}));n[r].activeState=t,a({type:"TOGGLE_ACTIVE_STATE",payload:{todoList:n}})}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e,!t))},d=Object(a.useCallback)((function(e){n(function(e){return Object(E.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Z.collection("todos").doc(e).delete().then((function(){Re(),alert("\u524a\u9664\u3057\u307e\u3057\u305f")}));case 1:case"end":return t.stop()}}),t)})))}(e)),n(Re())}),[n]);return Object(ae.jsxs)(yt,{className:t.activeState?"":"is-done",children:[Object(ae.jsx)("div",{className:"overlay ".concat(s?"":"is-done")}),Object(ae.jsx)("div",{className:"switch-erea",children:Object(ae.jsx)(_e,{checked:t.activeState,onChange:function(){return b(t.id,t.activeState)}})}),Object(ae.jsxs)("div",{className:"content-erea",children:[Object(ae.jsx)("div",{className:"content-title",children:t.name}),Object(ae.jsxs)("div",{className:"content-date",children:["\u767b\u9332\u65e5\uff1a",xt(t.createdAt.toDate()),"\uff0f\u671f\u9650\u65e5\uff1a",t.limitDate?xt(t.limitDate):"\u30fc"]}),Object(ae.jsx)("ul",{className:"content-category",children:Object(ae.jsx)("li",{children:Object(ae.jsx)(Oe,{label:function(e){var t=r.find((function(t){return t.id===e}));return t?t.name:""}(t.category)})})})]}),Object(ae.jsx)("div",{className:"delete-erea",children:Object(ae.jsx)(vt.a,{onClick:function(){return d(t.id)},children:Object(ae.jsx)(gt.a,{})})})]},t.id)},kt=n.p+"static/media/login-back.b84ce1aa.png",wt=te.b.div(ft||(ft=Object(w.a)(["\n  height: 100vh;\n  position: relative;\n  background-size: cover;\n\n  .overlay {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: #000;\n    opacity: 0.4;\n  }\n\n  .container {\n    width: 320px;\n    margin: 0 auto;\n    padding-top: 88px;\n    position: relative;\n    text-align: center;\n  }\n"]))),St=function(){var e=window.location.pathname,t=Object(a.useState)(!0),n=Object(S.a)(t,2),c=(n[0],n[1]),r=Object(a.useState)("signin"),i=Object(S.a)(r,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){c(!!e.split("/")[1].match(/^signin(#)?/))}),[e]),Object(a.useEffect)((function(){u(e.split("/")[1].replace("#",""))}),[e]),Object(ae.jsxs)(wt,{style:{backgroundImage:"url(".concat(kt,")")},children:[Object(ae.jsx)("div",{className:"overlay"}),Object(ae.jsxs)("div",{className:"container",children:["signin"===o&&Object(ae.jsx)(nt,{}),"signup"===o&&Object(ae.jsx)(ct,{}),"reset"===o&&Object(ae.jsx)(Me,{})]})]})},It=te.b.div(Ot||(Ot=Object(w.a)(["\n  width: 100%;\n  max-width: 1024px;\n  margin: 0 auto;\n  padding: 0 16px;\n  .title {\n    margin: 24px 0 32px;\n    font-size: 20px;\n  }\n"]))),Nt=te.b.div(pt||(pt=Object(w.a)(["\n  display: flex;\n  justify-content: flex-start;\n"]))),Et=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e})),n=Ke(t),c=Object(a.useState)(0),r=Object(S.a)(c,2),o=r[0],u=r[1],s=Object(a.useCallback)((function(e){u(e)}),[]);return Object(a.useEffect)((function(){e(ee()),e(Re())}),[]),Object(ae.jsxs)(It,{children:[Object(ae.jsxs)("h2",{className:"title",children:[n,"\u3055\u3093\u306e\u30bf\u30b9\u30af"]}),Object(ae.jsxs)(Nt,{children:[Object(ae.jsx)(et,{onClick:s}),Object(ae.jsx)(ut,{categoryId:o})]})]})},Tt=function(e){var t=e.children,n=Object(i.d)(),c=Object(i.e)((function(e){return e})),r=Je(c);return Object(a.useEffect)((function(){r||n(function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.onAuthStateChanged((function(e){if(e){var n=e.uid;Z.collection("users").doc(n).get().then((function(e){var n=e.data();t(O({isSignedIn:!0,role:"customer",uid:n.uid,userName:n.username,categories:[]})),t(Object(T.d)("/"))}))}else t(Object(T.d)("/signin"))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,r]),r?t:Object(ae.jsx)(ae.Fragment,{})},At=function(){return Object(ae.jsxs)(k.c,{children:[Object(ae.jsx)(k.a,{exact:!0,path:"/signup",component:St}),Object(ae.jsx)(k.a,{exact:!0,path:"/signin",component:St}),Object(ae.jsx)(k.a,{exact:!0,path:"/reset",component:St}),Object(ae.jsx)(Tt,{children:Object(ae.jsx)(k.a,{exact:!0,path:"(/)?",component:Et})})]})},_t=(n(226),n(227),n(268)),Dt=n(165),Ft=Object(Dt.a)({palette:{text:{primary:"#585858",secondary:"#AEAEAE"},primary:{light:"#F2FFFC",main:"#55AE99",dark:"#3D7B6C",contrastText:"#000"},secondary:{light:"#ffff81",main:"#E654A3",dark:"#c8a415",contrastText:"#000"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",line:"#cecece",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}}}),Bt=function(){return Object(ae.jsx)(_t.a,{theme:Ft,children:Object(ae.jsx)(te.a,{theme:Ft,children:Object(ae.jsx)(At,{})})})},Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},zt=n(270),Gt=C.a(),Lt=(ht=Gt,Object(o.d)(Object(o.c)({router:Object(u.b)(ht),users:x,todo:y}),Object(o.a)(Object(s.a)(ht),l.a)));r.a.render(Object(ae.jsx)(i.a,{store:Lt,children:Object(ae.jsx)(u.a,{history:Gt,children:Object(ae.jsx)(zt.b,{injectFirst:!0,children:Object(ae.jsx)(Bt,{})})})}),document.getElementById("root")),Mt()}},[[228,1,2]]]);
//# sourceMappingURL=main.f0a055cd.chunk.js.map